# Databricks Asset Bundle configuration for LakeStream CEP Builder
# See: https://docs.databricks.com/en/dev-tools/bundles/

bundle:
  name: lakestream-cep-builder

sync:
  include:
    - frontend/out/**

  exclude:
    - "**/__pycache__/**"
    - "**/*.pyc"
    - ".databricks/**"
    - "**/.venv/**"
    - "**/node_modules/**"
    - frontend/src/**
    - frontend/node_modules/**
    - frontend/package.json
    - frontend/package-lock.json
    - frontend/tsconfig.json
    - frontend/next.config.js
    - frontend/tailwind.config.ts
    - frontend/postcss.config.js
    - frontend/next-env.d.ts
    - frontend/.next/**
    - docs/**
    - .github/**
    - backend/tests/**
    - "*.md"
    - docker-compose.yml
    - Makefile
    - .env.example

# App is managed via the Databricks Apps CLI (not Terraform) because
# the Terraform provider cannot reconcile the Lakebase database resource.
# Use `make deploy` to: sync files -> attach Lakebase -> deploy app.

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://e2-demo-west.cloud.databricks.com
