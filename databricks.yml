# Databricks Asset Bundle configuration for LakeStream CEP Builder
# See: https://docs.databricks.com/en/dev-tools/bundles/

bundle:
  name: lakestream-cep-builder

sync:
  include:
    - frontend/out/**

  exclude:
    - frontend/src/**
    - frontend/node_modules/**
    - frontend/package.json
    - frontend/package-lock.json
    - frontend/tsconfig.json
    - frontend/next.config.js
    - frontend/tailwind.config.ts
    - frontend/postcss.config.js
    - frontend/next-env.d.ts
    - frontend/.next/**
    - docs/**
    - .github/**
    - backend/tests/**
    - "*.md"
    - docker-compose.yml
    - Makefile
    - .env.example

resources:
  apps:
    lakestream_cep_builder:
      name: lakestream-cep-builder
      source_code_path: .
      description: Visual CEP Pipeline Builder for Databricks - generates Lakeflow SDP and Spark Structured Streaming code
      permissions:
        - level: CAN_USE
          group_name: users

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://e2-demo-west.cloud.databricks.com
